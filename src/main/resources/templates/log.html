<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//cdn.staticfile.org/layui/2.9.7/css/layui.css" rel="stylesheet">
</head>
<body>
<div style="padding: 15px;">
    <!--    <blockquote class="layui-elem-quote">-->
    <!--        <div class="layui-btn-container">-->
    <!--            <button class="layui-btn" lay-submit lay-filter="demo-table-export" onclick="start()">-->
    <!--                开始采集（TODO)-->
    <!--            </button>-->

    <!--        </div>-->
    <!--    </blockquote>-->
    <div class="layui-form-item">
        <div class="layui-input-group">
            <div class="layui-input-prefix">
                开始采集
            </div>
            <input id="searchInput" type="text" placeholder="带任意前置和后置内容" class="layui-input">
            <div class="layui-input-split layui-input-suffix" style="cursor: pointer;" onclick="start()">
                <i class="layui-icon layui-icon-search"></i>
            </div>
        </div>
    </div>

    <div class="layui-card layui-panel">
        <table class="layui-table" lay-data="{height:'auto', url:'/query/searchLog', page:true,limit:20}"
               id="ID-table-demo-init">
            <thead>
            <tr>
                <th lay-data="{field:'id'}">ID</th>
                <th lay-data="{field:'keyword'}">关键字</th>
                <th lay-data="{field:'count'}">命中数量</th>
                <th lay-data="{field:'date'}">采集时间</th>
            </tr>
            </thead>
        </table>
    </div>
    <br><br>
</div>
<script src="//cdn.staticfile.org/layui/2.9.7/layui.js"></script>
<script>
    function start() {
        var keyword = layui.$('#searchInput').val();
        layui.$.get('/admin/start?keyword=' + keyword, function (data) {
            // 处理接口返回的数据
            console.log(data);
        });
    }
</script>
</body>
</html>